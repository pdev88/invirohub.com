/*!
 * jQuery UI Effects Squares 1.0
 * Copyright 2013 Pablo Software Solutions
 */
(function(p){p.effects.effect.squares=function(j,v){function w(){q.push(this);q.length===e*h&&(k.css({visibility:"visible"}),p(q).remove(),r||k.hide(),v())}var e=j.pieces?Math.round(Math.sqrt(j.pieces)):8,h=e,k=p(this),r="show"===p.effects.setMode(k,j.mode||"hide");k.show().css("visibility","hidden").offset();var s=Math.ceil(k.outerWidth()/h),t=Math.ceil(k.outerHeight()/e),q=[],a,b,f,c,x=j.duration/(e*h),g=[];if("rain"==j.fx){c=to2=from=b=0;for(f=!0;f;){for(a=from;a<=c;a++)value=a+""+parseInt(to2-
a),g[b]=a+""+parseInt(to2-a),b++;to2++;c<e&&(to2<h&&e<h)&&c++;c<e&&e>=h&&c++;to2>h&&from++;from>c&&(f=!1)}}else if("swirl"==j.fx){c=e;var d=h,m=0,n=0,l=0,u=0;b=0;for(f=!0;f;){u=0==l||2==l?d:c;for(a=1;a<=u;a++)if(g[b]=m+""+n,b++,a!=u)switch(l){case 0:n++;break;case 1:m++;break;case 2:n--;break;case 3:m--}l=(l+1)%4;switch(l){case 0:d--;n++;break;case 1:c--;m++;break;case 2:d--;n--;break;case 3:c--,m--}check=(c<d?d:c)-(c>d?d:c);d<=check&&c<=check&&(f=!1)}}else{for(a=counter=0;a<=e;a++)for(b=0;b<=h;b++)g[counter]=
a+""+b,counter++;if("random"==j.fx)for(a=g.length;--a;)b=Math.floor(Math.random()*(a+1)),f=g[a],g[a]=g[b],g[b]=f}j.reverse&&g.reverse();for(a=0;a<e;a++){c=a*t;for(b=0;b<h;b++){f=b*s;for(d=d=0;d<g.length&&g[d]!=a+""+b;d++);k.clone().appendTo(k.parent()).wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-b*s,top:-a*t}).parent().addClass("ui-effects-squares").css({position:"absolute",overflow:"hidden",width:s,height:t,left:f,top:c,opacity:r?0:1}).delay(d*x).animate({left:f,top:c,
opacity:r?1:0},{duration:500,easing:j.easing,queue:!0,complete:w})}}}})(jQuery);